import{_ as a,e as n}from"./app.530372a1.js";const s={},e=n(`<h1 id="docker\u642D\u5EFAkibana" tabindex="-1"><a class="header-anchor" href="#docker\u642D\u5EFAkibana" aria-hidden="true">#</a> docker\u642D\u5EFAkibana</h1><p>docker\u642D\u5EFAkibana\u5B98\u7F51\uFF1Ahttps://www.elastic.co/guide/en/kibana/current/docker.html</p><h3 id="_1-\u62C9\u53D6\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_1-\u62C9\u53D6\u955C\u50CF" aria-hidden="true">#</a> 1.\u62C9\u53D6\u955C\u50CF</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull docker.elastic.co/kibana/kibana:8.2.3
<span class="token comment">#\u7248\u672C\u6700\u597D\u5BF9\u5E94es\u7684\u7248\u672C</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-\u8FD0\u884C\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_2-\u8FD0\u884C\u955C\u50CF" aria-hidden="true">#</a> 2.\u8FD0\u884C\u955C\u50CF</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run --name kib --net elastic -p <span class="token number">5601</span>:5601 -itd docker.elastic.co/kibana/kibana:8.2.3
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-\u590D\u5236\u955C\u50CF\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_3-\u590D\u5236\u955C\u50CF\u6570\u636E" aria-hidden="true">#</a> 3.\u590D\u5236\u955C\u50CF\u6570\u636E</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> kibdatadir<span class="token punctuation">;</span>
<span class="token function">docker</span> <span class="token function">cp</span> kib:/usr/share/kibana/config  ~/data/kibdatadir<span class="token punctuation">;</span>
<span class="token function">docker</span> <span class="token function">cp</span> kib:/usr/share/kibana/data ~/data/kibdatadir<span class="token punctuation">;</span>
<span class="token function">docker</span> <span class="token function">cp</span> kib:/usr/share/kibana/plugins ~/data/kibdatadir<span class="token punctuation">;</span>
<span class="token function">docker</span> <span class="token function">cp</span> kib:/usr/share/kibana/bin ~/data/kibdatadir<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_4-\u505C\u6B62\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_4-\u505C\u6B62\u955C\u50CF" aria-hidden="true">#</a> 4.\u505C\u6B62\u955C\u50CF</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker stop kib;
docker rm kib;
docker rm -f kib;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_5-\u89E3\u51B3kib\u542F\u52A8\u540E-\u670D\u52A1\u5668cpu\u98D9\u5347\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_5-\u89E3\u51B3kib\u542F\u52A8\u540E-\u670D\u52A1\u5668cpu\u98D9\u5347\u95EE\u9898" aria-hidden="true">#</a> 5.\u89E3\u51B3kib\u542F\u52A8\u540E \u670D\u52A1\u5668cpu\u98D9\u5347\u95EE\u9898</h3><p>\u539F\u6587\u5730\u5740\uFF1Ahttps://blog.csdn.net/weixin_43822703/article/details/121883048</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span>  ~/kibdatadir/bin/kibana
<span class="token comment">#\u5C3E\u90E8\u6DFB\u52A0</span>
<span class="token assign-left variable">NODE_OPTIONS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${NODE_OPTIONS<span class="token operator">:=</span>--max-old-space-size=256}</span>&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_6-kib\u4E2D\u6587\u754C\u9762" tabindex="-1"><a class="header-anchor" href="#_6-kib\u4E2D\u6587\u754C\u9762" aria-hidden="true">#</a> 6.kib\u4E2D\u6587\u754C\u9762</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> ~/data/kibdatadir/config/kibana.yml
<span class="token comment">#\u6DFB\u52A0</span>
i18n.locale: <span class="token string">&quot;zh-CN&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_7-\u91CD\u65B0\u5F00\u542Fkibana" tabindex="-1"><a class="header-anchor" href="#_7-\u91CD\u65B0\u5F00\u542Fkibana" aria-hidden="true">#</a> 7.\u91CD\u65B0\u5F00\u542Fkibana</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run  --name kib --net elastic -p <span class="token number">5601</span>:5601 <span class="token punctuation">\\</span>
-v  ~/data/kibdatadir/config:/usr/share/kibana/config <span class="token punctuation">\\</span>
-v  ~/data/kibdatadir/data:/usr/share/kibana/data <span class="token punctuation">\\</span>
-v  ~/data/kibdatadir/plugins:/usr/share/kibana/plugins <span class="token punctuation">\\</span>
-v  ~/data/kibdatadir/bin:/usr/share/kibana/bin <span class="token punctuation">\\</span>
-itd docker.elastic.co/kibana/kibana:8.2.3
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_8-\u524D\u53F0\u8BBE\u7F6Ees\u7684\u670D\u52A1\u5668\u5730\u5740" tabindex="-1"><a class="header-anchor" href="#_8-\u524D\u53F0\u8BBE\u7F6Ees\u7684\u670D\u52A1\u5668\u5730\u5740" aria-hidden="true">#</a> 8.\u524D\u53F0\u8BBE\u7F6Ees\u7684\u670D\u52A1\u5668\u5730\u5740\uFF1A</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u5982\u679C\u5173\u95ED\u4E86ssl \u5219\u914D\u7F6E\uFF1Ahttp://es\u670D\u52A1\u5668\u5730\u5740\uFF1Aes\u7AEF\u53E3
\u4E5F\u53EF\u4EE5\u5728kibana.yml\u4E2D\u95F4\u914D\u7F6E
sudo vim ~/kibdatadir/config/kibana.yml
elasticsearch.hosts: [&#39;http://172.31.13.130:9200&#39;]
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>8.0\u4E4B\u540E\u7684\u7248\u672C\u662F\u9700\u8981\u53BBes\u7AEF\u751F\u6210token\uFF0C\u901A\u8FC7\u5BFC\u5165token\u6765\u8BBE\u7F6E\u670D\u52A1\u5668\u4FE1\u606F</p><h3 id="_9-\u751F\u6210\u9A8C\u8BC1\u7801" tabindex="-1"><a class="header-anchor" href="#_9-\u751F\u6210\u9A8C\u8BC1\u7801" aria-hidden="true">#</a> 9.\u751F\u6210\u9A8C\u8BC1\u7801</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it kib /usr/share/kibana/bin/kibana-verification-code
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_10-\u7279\u522B\u6CE8\u610F" tabindex="-1"><a class="header-anchor" href="#_10-\u7279\u522B\u6CE8\u610F" aria-hidden="true">#</a> 10.\u7279\u522B\u6CE8\u610F</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>kibana \u548Ces 8.2.3 \u7684\u7248\u672C\u96C6\u6210\u9700\u8981\u4F7F\u7528token\u6765\u914D\u7F6E\uFF0C\u5426\u5219\u4F1A\u62A5\u9519
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,24);function i(r,c){return e}var d=a(s,[["render",i],["__file","kib.html.vue"]]);export{d as default};
